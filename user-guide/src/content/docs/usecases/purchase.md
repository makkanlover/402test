---
title: 商品を購入する
description: 購入フローの詳細ガイド
---

# 商品を購入する

x402での商品購入フローを詳しく説明します。

## 購入の流れ

```
商品詳細 → 購入ボタン → 決済確認 → 処理中 → 完了
```

## Step 1: 商品詳細ページで「購入」をクリック

![購入ボタン](/screenshots/purchase-button.png)

商品詳細ページの「購入する」ボタンをクリックします。

:::caution[ログインが必要です]
未ログインの場合は、先にログインまたは新規登録が必要です。
:::

## Step 2: 決済確認画面

![決済確認画面](/screenshots/payment-confirm.png)

購入ボタンをクリックすると、決済確認画面が表示されます。

### 確認内容

| 項目 | 説明 |
|------|------|
| 商品名 | 購入する商品のタイトル |
| 金額 | 支払い金額（AVAX） |
| 有効期限 | 決済の有効期限（30分） |

### HTTP 402 Payment Required

この画面は「HTTP 402」というWeb標準の仕組みを使用しています。サーバーから「支払いが必要です」という応答を受け取り、決済情報を表示しています。

## Step 3: 支払いを確定

「支払いを確定」ボタンをクリックすると、決済処理が開始されます。

![決済処理中](/screenshots/payment-processing.png)

### 処理の流れ（内部）

1. 決済情報の検証
2. ブロックチェーンへのトランザクション送信
3. トランザクション確認
4. アクセス権の付与

:::note[処理時間]
通常、数秒〜10秒程度で完了します。画面を閉じないでお待ちください。
:::

## Step 4: 購入完了

![購入完了](/screenshots/purchase-complete.png)

購入が完了すると、以下が表示されます：

- ✅ 購入完了メッセージ
- 📋 トランザクションハッシュ
- 🔗 ブロックチェーンエクスプローラーへのリンク

### トランザクションの確認

「トランザクションを確認」リンクをクリックすると、Snowtrace（Avalancheのブロックチェーンエクスプローラー）で取引の詳細を確認できます。

## コンテンツへのアクセス

購入完了後、商品詳細ページに戻ると：

- 「購入済み」ラベルが表示
- フルコンテンツが閲覧可能に
- ダウンロードボタンが有効化（画像・音楽の場合）

## トラブルシューティング

### 決済が完了しない

- ネットワーク接続を確認してください
- ページをリロードして再度お試しください
- 購入履歴で決済状態を確認してください

### 「既に購入済み」と表示される

同じ商品を2回購入することはできません。購入履歴から該当商品にアクセスしてください。

---

次のステップ：[購入履歴を確認する](/usecases/history)
